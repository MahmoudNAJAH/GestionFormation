@model GestionFormation.DTO.EmailAEnvoyerDTO


@using (Html.BeginForm("Envoyer", "Email", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()
    <div class="form-horizontal">
        <h4>Message</h4>

        <div class="form-group">
            @Html.LabelFor(model => model.ToId, htmlAttributes: new { @class = "control-label col-md-3" })
            <div class="col-md-9">
                @Html.DropDownListFor(x => Model.ToId, new SelectList(Model.ListDestinataires, "Value", "Text"), htmlAttributes: new { @class = "form-control", id = "Destinataire" })

            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.Subject, htmlAttributes: new { @class = "control-label col-md-3" })
            <div class="col-md-9">
                @Html.EditorFor(model => model.Subject, new { htmlAttributes = new { @class = "form-control" } })
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.Content, htmlAttributes: new { @class = "control-label col-md-3" })
            <div class="col-md-9">
                @Html.EditorFor(model => model.Content, new { htmlAttributes = new { @class = "form-control", style="height:20em" } })
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.AttachementPath, htmlAttributes: new { @class = "control-label col-md-3" })
            <div class="col-md-9" >
                <input type="file" name="FichierAEnvoyer" class="form-control" style="height:3em"/>
            </div>
        </div>

        <input type="submit" class="btn btn-success" value="Envoyer" />
    </div>
}


@if (ViewBag.EmailMessage != null)
{
    <div class="info">
        @ViewBag.EmailMessage
    </div>
}





